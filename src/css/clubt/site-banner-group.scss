.banner-group {
  @media (min-width: $breakpoint-ipad) {
    display: flex;
  }

  .site-banner {
    margin-bottom: 50px;
    width: 100%;

    @media (min-width: $breakpoint-ipad) {
      margin-left: 20px;
      margin-bottom: 0;

      &:last-child {
        margin-right: 20px;
      }
    }

    &:last-child {
      margin-bottom: 0;
    }

    &:only-child {
      margin-left: 0;
      margin-right: 0;
    }

    .container {
      padding-left: 20px;
      padding-right: 20px;
    }
  }

  .site-banner__video {
    display: none;
  }

  .site-banner--overlap,
  .site-banner--overlap.site-banner--overlay {
    @media (min-width: $breakpoint-ipad) {
      background-position: 150px center;
    }

    @media (min-width: $breakpoint-air) {
      background-position: 200px center;
    }

    @media (min-width: $breakpoint-big) {
      background-position: 250px center;
    }

    @media (min-width: $breakpoint-hd) {
      background-position: 300px center;
    }
  }

  .site-banner--overlap.site-banner--content-position-center {
    @media (min-width: $breakpoint-ipad) {
      background-position: center;
    }
  }

  .site-banner--overlap.site-banner--content-position-right {
    @media (min-width: $breakpoint-ipad) {
      background-position: calc(100% - 150px) center;
    }

    @media (min-width: $breakpoint-air) {
      background-position: calc(100% - 200px) center;
    }

    @media (min-width: $breakpoint-big) {
      background-position: calc(100% - 250px) center;
    }

    @media (min-width: $breakpoint-hd) {
      background-position: calc(100% - 300px) center;
    }
  }

  .site-banner--solid-background.site-banner--content-position-center {
    @media (min-width: $breakpoint-ipad) {
      padding-top: 20px;
      padding-bottom: 20px;
    }
  }
}



.banner-group {
  // The trick is to select the first child when it's also the nth-from-the-last child.
  // This effectively selects based on the number of siblings.
  // https://stackoverflow.com/a/12198561/2716287
  .site-banner:first-child:nth-last-child(3),
  .site-banner:first-child:nth-last-child(3) ~ .site-banner {
    background-position: center 0;
    background-size: 100% auto;
    padding-top: 150px;
    min-height: 0;

    @media (min-width: $breakpoint-mobile) {
      padding-top: 220px;
    }

    @media (min-width: $breakpoint-tablet) {
      padding-top: 290px;
    }

    @media (min-width: $breakpoint-ipad) {
      background-size: auto 250px;
      padding-top: 200px;
    }

    @media (min-width: $breakpoint-air) {
      background-size: auto 300px;
      padding-top: 250px;
    }

    @media (min-width: $breakpoint-big) {
      background-size: auto 420px;
      padding-top: 370px;
    }

    .site-banner__body {
      &:before {
        background-color: $color-7;
      }
    }
  }
}
