// Compile with command line:
// sass src/css/clubt.scss:docs/clubt/css/clubt.css

// Use --watch to watch
// sass src/css/clubt.scss:docs/clubt/css/clubt.css --watch

// I know I could use something like Gulp.
// I just don't want to have a node_module folder.

// ------------------------------------------------------------------



// Default values, unless set in CMS
$site-banner-background-color: transparent;
$site-banner-background-image: 'no';
$site-banner-background-image-mobile: 'no';
$site-banner-button-ghost: 'no';
$site-banner-copy-color: $color-copy;
$site-banner-full-width: 'yes';
$site-banner-new-tab: 'no';
$site-banner-overlay-opacity: .5;
$site-banner-video: 'no';

$site-banner-content-alignment: 'left';
// h-text-center DONE
// h-text-right DONE

$site-banner-content-alignment-mobile: 'left';
// h-text-center-mobile
// h-text-right-mobile

$site-banner-content-position: 'left';
// site-banner--content-position-center
// site-banner--content-position-right

$site-banner-overlap: 'no';
// site-banner--overlap



$site-banner-height: 628px;


.site-banner {
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  color: $color-3;
  display: flex;
  align-items: center;
  font-size: rem(17);
  position: relative;
  min-height: $site-banner-height;
  overflow: hidden;
}

.site-banner__body {
  line-height: 1.33;
  padding: 20px;
  position: relative;
  z-index: 1;
  max-width: 702px;

  @media (min-width: $breakpoint-ipad-landscape) {
    padding: 50px;
  }

  &:before {
    background-color: #fff;
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    width: 100%;
    height: 100%;
  }
}

.site-banner__button {
  font-size: rem(16);
}

.site-banner__delimiter {
  padding-top: 15px;
  padding-bottom: 15px;
  path {
    stroke: currentColor;
  }
}

.site-banner__prefix {
  font-size: rem(22);
}

.site-banner__text {
  line-height: 2;
  margin-bottom: 30px;
}

.site-banner__title {
  color: $color-2;
  font-family: $font-heading;
  font-size: rem(35);
  text-transform: uppercase;

  @media (min-width: $breakpoint-ipad-landscape) {
    font-size: rem(45);
  }
}

.site-banner__video {
  display: none;

  @media (min-width: $breakpoint-ipad) {
    display: block;
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    width: 100%;
    overflow: hidden;
  }

  &:before {
    background-color: rgba(0,0,0,.5);
    content: '';
    display: block;
    padding-bottom: 56.25%;
    position: relative;
    z-index: 1;
    width: 100%;
    height: 0;

    .site-banner--overlay & {
      background-color: rgba(0,0,0,.5);
    }
  }

  iframe {
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
  }
}



.site-banner--content-position-center {
  .site-banner__body {
    margin-left: auto;
    margin-right: auto;
  }
}



.site-banner--content-position-right {
  .site-banner__body {
    margin-left: auto;
    margin-right: 0;
  }
}



.site-banner--overlay {
  @extend .h-overlay;
  color: #fff;

  &:not(.site-banner--content-position-center),
  &:not(.site-banner--overlap) {
    .site-banner__button {
      background-color: #fff;
      border-color: #fff;
      color: $color-copy;

      &:hover {
        background-color: $color-2;
        border-color: $color-2;
        color: #fff;
      }
    }

    .button--ghost {
      background-color: transparent;
      border-color: #fff;
      color: $color-copy;

      &:hover {
        background-color: #fff;
        border-color: #fff;
        color: $color-copy;
      }
    }
  }

  > .site-banner__video {
    position: absolute;
  }

  .site-banner__body {
    &:before {
      background-color: transparent;
    }
  }

  .site-banner__title {
    color: currentColor;
  }
}



.site-banner--overlap,
.site-banner--overlap.site-banner--overlay {
  background-position: center top;
  background-size: auto 300px;
  color: $color-3;
  align-items: flex-start;
  padding-top: 200px;

  @media (min-width: $breakpoint-ipad) {
    background-position: 250px center;
    background-size: auto 100%;
    align-items: center;
    padding-top: 0;
  }

  @media (min-width: $breakpoint-ipad-landscape) {
    background-position: 300px center;
  }

  @media (min-width: $breakpoint-air) {
    background-position: 100% center;
  }

  &:before {
    display: none;
  }

  .site-banner__body {
    padding: 30px;

    &:before {
      background-color: $color-7;
    }
  }

  .site-banner__prefix {
    font-size: rem(17);
  }

  .site-banner__title {
    color: $color-2;
    font-size: rem(35);
  }

  .site-banner__video {
    left: 250px;
    width: calc(16 / 9 * #{$site-banner-height});

    @media (min-width: $breakpoint-ipad-landscape) {
      left: 300px;
    }

    @media (min-width: $breakpoint-air) {
      left: auto;
      right: 0;
    }
  }
}



.site-banner--overlap.site-banner--content-position-center {
  @media (min-width: $breakpoint-ipad) {
    background-position: center;
  }

  &.site-banner--solid-background.container {
    &:after {
      width: 100%;
    }
  }

  .site-banner__video {
    top: 0;
    left: 50%;
    transform: translateX(-50%);
  }
}



.site-banner--overlap.site-banner--content-position-right {
  @media (min-width: $breakpoint-ipad) {
    background-position: calc(100% - 250px) center;
  }

  @media (min-width: $breakpoint-ipad-landscape) {
    background-position: calc(100% - 300px) center;
  }

  @media (min-width: $breakpoint-air) {
    background-position: 0 center;
  }

  .site-banner__video {
    top: 0;
    left: 0;
    transform: none;
  }
}



.site-banner--solid-background {
  background-size: calc(100% - 40px) auto;
  padding-bottom: 36px;
  min-height: 0;

  @media (min-width: $breakpoint-ipad) {
    background-size: auto calc(100% - 88px); // Faking padding top and bottom
    padding-bottom: 0;
    min-height: $site-banner-height;
  }

  &:after {
    background-color: $color-7;
    content: '';
    position: absolute;
    top: 115px;
    bottom: 0;
    left: 0;
    z-index: -1;
    width: 100%;

    @media (min-width: $breakpoint-ipad) {
      top: 0;
      width: 70%;
    }
  }

  .site-banner__body {
    @media (max-width: $breakpoint-ipad - 1) {
      margin-left: 20px;
      margin-right: 20px;
    }

    &:before {
      background-color: #fff;
    }
  }

  .site-banner__video {
    width: calc(16 / 9 * (#{$site-banner-height} - 88px));
  }
}



.site-banner--solid-background.site-banner--content-position-center {
  &:after {
    left: 50%;
    transform: translateX(-50%);
  }

  .site-banner__video {
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
  }
}



.site-banner--solid-background.site-banner--content-position-right {
  &:after {
    left: auto;
    right: 0;
  }

  .site-banner__video {
    top: 50%;
    transform: translateY(-50%);
  }
}



.site-banner.container {
  padding-left: 0;
  padding-right: 0;
  max-width: $site-width-banner;
}
